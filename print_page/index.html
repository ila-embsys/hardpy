
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Everypin">
      
      
        <link rel="canonical" href="https://everypinio.github.io/hardpy/print_page/">
      
      
      
      
      <link rel="icon" href="../img/logo192.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.10">
    
    
      
        <title>Print Site - HardPy</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
    <script>__md_scope=new URL("/hardpy/",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="HardPy" class="md-header__button md-logo" aria-label="HardPy" data-md-component="logo">
      
  <img src="../img/logo192.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HardPy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print Site
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/everypinio/hardpy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    everypinio/hardpy
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  HardPy

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../features/features/" class="md-tabs__link">
        
  
    
  
  Features

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../documentation/structure/" class="md-tabs__link">
          
  
    
  
  Documentation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../examples/hello_hardpy/" class="md-tabs__link">
          
  
    
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../about/development/" class="md-tabs__link">
          
  
    
  
  About

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../changelog/" class="md-tabs__link">
        
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="HardPy" class="md-nav__button md-logo" aria-label="HardPy" data-md-component="logo">
      
  <img src="../img/logo192.png" alt="logo">

    </a>
    HardPy
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/everypinio/hardpy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    everypinio/hardpy
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HardPy
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Features
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation/structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation/database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation/pytest_hardpy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytest-hardpy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../documentation/hardpy_panel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HardPy panel
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/hello_hardpy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hello HardPy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/couchdb_load/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CouchDB load
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/minute_parity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Minute parity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/multiple_stands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiple stands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/skip_test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Skip test
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/db_in_ram/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CouchDB in RAM
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#" class="md-nav__link">
    <span class="md-ellipsis">
      1. HardPy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features-features" class="md-nav__link">
    <span class="md-ellipsis">
      2. Features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      I. Documentation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="I. Documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#documentation-structure" class="md-nav__link">
    <span class="md-ellipsis">
      3. Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentation-database" class="md-nav__link">
    <span class="md-ellipsis">
      4. Database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentation-pytest_hardpy" class="md-nav__link">
    <span class="md-ellipsis">
      5. Pytest-hardpy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentation-hardpy_panel" class="md-nav__link">
    <span class="md-ellipsis">
      6. HardPy panel
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-examples" class="md-nav__link">
    <span class="md-ellipsis">
      II. Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="II. Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples-hello_hardpy" class="md-nav__link">
    <span class="md-ellipsis">
      7. Hello HardPy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-couchdb_load" class="md-nav__link">
    <span class="md-ellipsis">
      8. CouchDB load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-minute_parity" class="md-nav__link">
    <span class="md-ellipsis">
      9. Minute parity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-multiple_stands" class="md-nav__link">
    <span class="md-ellipsis">
      10. Multiple stands
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-skip_test" class="md-nav__link">
    <span class="md-ellipsis">
      11. Skip test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-db_in_ram" class="md-nav__link">
    <span class="md-ellipsis">
      12. CouchDB in RAM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-about" class="md-nav__link">
    <span class="md-ellipsis">
      III. About
    </span>
  </a>
  
    <nav class="md-nav" aria-label="III. About">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#about-development" class="md-nav__link">
    <span class="md-ellipsis">
      13. Development
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changelog" class="md-nav__link">
    <span class="md-ellipsis">
      14. Changelog
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        <section class="print-page" id="index"><h1 id="index-overview">Overview<a class="headerlink" href="#index-overview" title="Permanent link">&para;</a></h1>
<figure>
  <a class="glightbox" href="../img/logo192.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="HardPy logo" src="../img/logo192.png" width="192" /></a>
</figure>
<p><strong>HardPy</strong> is a python package for creating a test bench for devices.
<strong>HardPy</strong> allows you to:</p>
<ul>
<li>Create test benches for devices using pytest;</li>
<li>Use a browser to view, run and stop tests;</li>
<li>Store the test result to the <a href="https://couchdb.apache.org/">CouchDB</a> database.</li>
</ul>
<h2 id="index-to-install">To Install<a class="headerlink" href="#index-to-install" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>pip3<span class="w"> </span>install<span class="w"> </span>hardpy
</code></pre></div>
<h2 id="index-getting-started">Getting Started<a class="headerlink" href="#index-getting-started" title="Permanent link">&para;</a></h2>
<h4 id="index-couchdb">CouchDB<a class="headerlink" href="#index-couchdb" title="Permanent link">&para;</a></h4>
<p>This is a simple instruction for Linux.
For Windows, follow the instructions from the
<a href="https://everypinio.github.io/hardpy/documentation/database/#couchdb-instance">documentation</a>.</p>
<p>Launch CouchDB with Docker.
Create <code>couchdb.ini</code> file:</p>
<div class="highlight"><pre><span></span><code><span class="k">[chttpd]</span>
<span class="na">enable_cors</span><span class="o">=</span><span class="s">true</span>

<span class="k">[cors]</span>
<span class="na">origins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">*</span>
<span class="na">methods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">GET, PUT, POST, HEAD, DELETE</span>
<span class="na">credentials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">true</span>
<span class="na">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">accept, authorization, content-type, origin, referer, x-csrf-token</span>
</code></pre></div>
<p>Run the Docker container from folder with couchdb.ini file:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>--name<span class="w"> </span>couchdb<span class="w"> </span>-p<span class="w"> </span><span class="m">5984</span>:5984<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_USER</span><span class="o">=</span>dev<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_PASSWORD</span><span class="o">=</span>dev<span class="w"> </span>-v<span class="w"> </span>./couchdb.ini:/opt/couchdb/etc/local.ini<span class="w"> </span>couchdb:3.3
</code></pre></div>
<p>Command for Windows:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>--name<span class="w"> </span>couchdb<span class="w"> </span>-p<span class="w"> </span><span class="m">5984</span>:5984<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_USER</span><span class="o">=</span>dev<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_PASSWORD</span><span class="o">=</span>dev<span class="w"> </span>-v<span class="w"> </span>.<span class="se">\c</span>ouchdb.ini:/opt/couchdb/etc/local.ini<span class="w"> </span>couchdb:3.3.2
</code></pre></div>
<h4 id="index-create-tests">Create tests<a class="headerlink" href="#index-create-tests" title="Permanent link">&para;</a></h4>
<p>Add simple test to <code>tests</code> folder</p>
<div class="highlight"><pre><span></span><code><span class="c1"># test_1.py</span>
<span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">assert</span> <span class="mi">42</span> <span class="o">==</span> <span class="mi">42</span>
</code></pre></div>
<h4 id="index-operator-panel">Operator panel<a class="headerlink" href="#index-operator-panel" title="Permanent link">&para;</a></h4>
<p>Launch <code>hardpy-panel</code> from tests folder or launch <code>hardpy-panel tests</code> and open page <a href="http://localhost:8000/">http://localhost:8000/</a> in browser.</p>
<figure>
  <a class="glightbox" href="../img/hardpy_operator_panel_hello_hardpy.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="HardPy operator panel" src="../img/hardpy_operator_panel_hello_hardpy.png" width="800" /></a>
  <figcaption>HardPy operator panel</figcaption>
</figure>
<h4 id="index-test-report">Test report<a class="headerlink" href="#index-test-report" title="Permanent link">&para;</a></h4>
<p>The last test report stores in <strong>runstore</strong> database, document - <strong>current</strong>.
You can view the CouchDB instance through Fauxton web interface: <a href="http://127.0.0.1:5984/_utils">http://127.0.0.1:5984/_utils</a></p>
<figure>
  <a class="glightbox" href="../img/runstore_hello_hardpy.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Database view" src="../img/runstore_hello_hardpy.png" width="800" /></a>
  <figcaption>Database view</figcaption>
</figure></section><section class="print-page" id="features-features"><h1 id="features-features-features">Features<a class="headerlink" href="#features-features-features" title="Permanent link">&para;</a></h1>
<h2 id="features-features-based-on-pytest">Based on pytest<a class="headerlink" href="#features-features-based-on-pytest" title="Permanent link">&para;</a></h2>
<p><strong>HardPy</strong> includes the pytest-hardpy plugin for <strong>pytest</strong>.
Compatible with pytest versions above 7.
You can run tests not only through the operator panel but also through the <strong>pytest</strong> itself.</p>
<h2 id="features-features-document-oriented-nosql-database">Document-oriented NoSQL database<a class="headerlink" href="#features-features-document-oriented-nosql-database" title="Permanent link">&para;</a></h2>
<p><strong>HardPy</strong> uses <a href="https://couchdb.apache.org/">CouchDB</a> as its database but you can write
final result to any database because <strong>CouchDB</strong> stores data in a simple document.
Developers can create their adapter for any database and store the test report in a way that suits them.
By default <strong>HardPy</strong> allows you to store all reports in <strong>CouchDB</strong>.
<strong>HardPy</strong> is compatible with <strong>CouchDB</strong> versions above 3.2.</p>
<h2 id="features-features-tests-view-in-browser">Tests view in browser<a class="headerlink" href="#features-features-tests-view-in-browser" title="Permanent link">&para;</a></h2>
<p><strong>HardPy</strong> includes a <strong>React</strong> application - <strong>HardPy operator panel</strong>.
It allows you to use a browser to view your tests and write test results to a database.</p>
<h2 id="features-features-modern-python">Modern python<a class="headerlink" href="#features-features-modern-python" title="Permanent link">&para;</a></h2>
<p><strong>HardPy</strong> is based on the <strong>python 3.10</strong> and supports versions <strong>3.11</strong>, <strong>3.12</strong>.</p></section>
                        <h1 class='nav-section-title' id='section-documentation'>
                            Documentation <a class='headerlink' href='#section-documentation' title='Permanent link'>â†µ</a>
                        </h1>
                        <section class="print-page" id="documentation-structure"><h1 id="documentation-structure-hardpy-structure">HardPy structure<a class="headerlink" href="#documentation-structure-hardpy-structure" title="Permanent link">&para;</a></h1>
<p><strong>HardPy</strong> includes several parts.</p>
<h2 id="documentation-structure-pytest-hardpy">pytest-hardpy<a class="headerlink" href="#documentation-structure-pytest-hardpy" title="Permanent link">&para;</a></h2>
<ul>
<li>The pytest wrapper for running pytest from the <strong>HardPy</strong> operator panel.</li>
<li>The pytest plugin with API for storing data in a database.</li>
</ul>
<h2 id="documentation-structure-hardpy-operator-panel">HardPy operator panel<a class="headerlink" href="#documentation-structure-hardpy-operator-panel" title="Permanent link">&para;</a></h2>
<ul>
<li>Web interface for viewing tests and starting/stopping tests.</li>
<li>FastAPI application for processing frontend commands.</li>
<li>PouchDB - web database for synchronizing data from CouchDB and the hardpy operator panel.</li>
</ul>
<h2 id="documentation-structure-couchdb">CouchDB<a class="headerlink" href="#documentation-structure-couchdb" title="Permanent link">&para;</a></h2>
<ul>
<li>Database to store current test data and store all test results.</li>
</ul>
<h2 id="documentation-structure-database-adapter">Database adapter<a class="headerlink" href="#documentation-structure-database-adapter" title="Permanent link">&para;</a></h2>
<ul>
<li>HardPy allows you to use a simple database adapter to store test results in CouchDB.</li>
<li>A developer can create a database adapter to store test results in any database.</li>
</ul>
<h2 id="documentation-structure-structural-scheme">Structural scheme<a class="headerlink" href="#documentation-structure-structural-scheme" title="Permanent link">&para;</a></h2>
<p><a class="glightbox" href="../img/hardpy_struct.drawio.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img align="left," alt="hardpy_structure" src="../img/hardpy_struct.drawio.png" width="800" /></a></p></section><section class="print-page" id="documentation-database"><h1 id="documentation-database-database">Database<a class="headerlink" href="#documentation-database-database" title="Permanent link">&para;</a></h1>
<h2 id="documentation-database-about">About<a class="headerlink" href="#documentation-database-about" title="Permanent link">&para;</a></h2>
<p>We use CouchDB because it's a simple document-oriented NoSQL database.
The database has two main purposes:</p>
<ul>
<li>Saving test report;</li>
<li>Data synchronization with the web interface.
Data synchronization uses the replication mechanism of CouchDB and PouchDB.</li>
</ul>
<p>The CouchDB version must be equal to or greater than the 3.2 version.</p>
<h2 id="documentation-database-couchdb-instance">CouchDB instance<a class="headerlink" href="#documentation-database-couchdb-instance" title="Permanent link">&para;</a></h2>
<p>This section explains how to launch and manage a CouchDB instance.
After launching the database, it becomes available at the following address:</p>
<blockquote>
<p><a href="http://127.0.0.1:5984/_utils/">http://127.0.0.1:5984/_utils/</a></p>
</blockquote>
<p>The internal settings of the database are contained in the <strong>couchDB.ini</strong> configuration file.
It contains settings that define the behavior and operating parameters of the database.
The username is set via the <code>COUCHDB_USER</code>variable, the password via <code>COUCHDB_PASSWORD</code>, and the port number via the <code>ports</code> section.</p>
<h3 id="documentation-database-running-couchdb-with-docker">Running CouchDB with Docker<a class="headerlink" href="#documentation-database-running-couchdb-with-docker" title="Permanent link">&para;</a></h3>
<ol>
<li>Create <code>couchdb.ini</code> file.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><span class="k">[chttpd]</span>
<span class="na">enable_cors</span><span class="o">=</span><span class="s">true</span>

<span class="k">[cors]</span>
<span class="na">origins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">*</span>
<span class="na">methods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">GET, PUT, POST, HEAD, DELETE</span>
<span class="na">credentials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">true</span>
<span class="na">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">accept, authorization, content-type, origin, referer, x-csrf-token</span>
</code></pre></div>
2. The Docker version must be 24.0.0 or higher. Run the Docker container (from the folder with the couchdb.ini file):</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>--name<span class="w"> </span>couchdb<span class="w"> </span>-p<span class="w"> </span><span class="m">5984</span>:5984<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_USER</span><span class="o">=</span>dev<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_PASSWORD</span><span class="o">=</span>dev<span class="w"> </span>-v<span class="w"> </span>./couchdb.ini:/opt/couchdb/etc/local.ini<span class="w"> </span>couchdb:3.3
</code></pre></div>
<p>Command for Windows:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--rm<span class="w"> </span>--name<span class="w"> </span>couchdb<span class="w"> </span>-p<span class="w"> </span><span class="m">5984</span>:5984<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_USER</span><span class="o">=</span>dev<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_PASSWORD</span><span class="o">=</span>dev<span class="w"> </span>-v<span class="w"> </span>.<span class="se">\c</span>ouchdb.ini:/opt/couchdb/etc/local.ini<span class="w"> </span>couchdb:3.3.2
</code></pre></div>
<p>The container will be deleted after use.</p>
<h3 id="documentation-database-running-couchdb-with-docker-compose">Running CouchDB with Docker Compose<a class="headerlink" href="#documentation-database-running-couchdb-with-docker-compose" title="Permanent link">&para;</a></h3>
<p>An example configuration for running CouchDB via Docker Compose is located in the <code>example/database/couchdb</code> folder.
A shortened version of the instructions is described below.</p>
<ol>
<li>Create a <code>docker</code> directory in the project's root directory.</li>
<li>Create a <code>couchdb.ini</code> file in the <code>docker</code> directory.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><span class="k">[chttpd]</span>
<span class="na">enable_cors</span><span class="o">=</span><span class="s">true</span>

<span class="k">[cors]</span>
<span class="na">origins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">*</span>
<span class="na">methods</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">GET, PUT, POST, HEAD, DELETE</span>
<span class="na">credentials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">true</span>
<span class="na">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">accept, authorization, content-type, origin, referer, x-csrf-token</span>
</code></pre></div>
3. Create a <code>docker-compose.yaml</code> file in project's root directory.</p>
<p><div class="highlight"><pre><span></span><code><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3.8&quot;</span>

<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">couchserver</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">couchdb:3.3.2</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;5984:5984&quot;</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">COUCHDB_USER</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev</span>
<span class="w">      </span><span class="nt">COUCHDB_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./docker/dbdata:/opt/couchdb/data</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./docker/couchdb.ini:/opt/couchdb/etc/local.ini</span>
</code></pre></div>
4. Run <strong>docker compose</strong> in the root directory.</p>
<p><div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>up
</code></pre></div>
5. To stop the database, run the command:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>down
</code></pre></div>
<h3 id="documentation-database-running-couchdb-with-binary-packages-in-linux">Running CouchDB with binary packages in Linux<a class="headerlink" href="#documentation-database-running-couchdb-with-binary-packages-in-linux" title="Permanent link">&para;</a></h3>
<ol>
<li>Use this <a href="https://docs.couchdb.org/en/stable/install/unix.html#installation-using-the-apache-couchdb-convenience-binary-packages">instruction</a> to install CouchDB </li>
<li>The installer asks you if you want to install CouchDB as a standalone application or in a clustered configuration.
Select <code>Standalone</code> and press Enter.</li>
<li>You are prompted to enter the Erlang Node Name. 
You can ask it in Terminal with the command <code>hostname -f</code></li>
<li>Set the Erlang Magic Cookie. 
This is a unique identifier, for example, <code>test1234</code></li>
<li>Configure the network interfaces on which CouchDB will be bound.
<code>127.0.0.1</code> is fine.</li>
<li>Enter an admin password of your choice for CouchDB, press <code>Enter</code>, re-type the password and press <code>Enter</code> again to continue the installation.</li>
<li>After launching the database, it becomes available at the following address <a href="http://127.0.0.1:5984/_utils/">http://127.0.0.1:5984/_utils/</a>.
Open it.</li>
<li>First of all, in the <code>User Management</code> section in the <code>Create Admins</code> tab, create a user with the login <code>dev</code> and password <code>dev</code></li>
<li>In the <code>Config</code> choose <code>CORS</code> and appoint <code>Enable CORS</code> with <code>All domains</code></li>
</ol>
<h4 id="documentation-database-to-disable-the-couchdb-service">To disable the CouchDB service:<a class="headerlink" href="#documentation-database-to-disable-the-couchdb-service" title="Permanent link">&para;</a></h4>
<p>Remove packages:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>remove<span class="w"> </span>--purge<span class="w"> </span>couchdb
</code></pre></div>
Remove GPG keys and repository:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>rm<span class="w"> </span>/usr/share/keyrings/couchdb-archive-keyring.gpg
sudo<span class="w"> </span>rm<span class="w"> </span>/etc/apt/sources.list.d/couchdb.list
</code></pre></div>
Clean APT cache:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>clean
</code></pre></div>
Disable service:
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span>stop<span class="w"> </span>couchdb.service
systemctl<span class="w"> </span>disable<span class="w"> </span>couchdb.service
systemctl<span class="w"> </span>daemon-reload
systemctl<span class="w"> </span>reset-failed
</code></pre></div></p>
<h3 id="documentation-database-running-couchdb-with-binary-packages-in-windows">Running CouchDB with binary packages in Windows<a class="headerlink" href="#documentation-database-running-couchdb-with-binary-packages-in-windows" title="Permanent link">&para;</a></h3>
<ol>
<li>Use this <a href="https://docs.couchdb.org/en/stable/install/windows.html#installation-on-windows">instruction</a> to install CouchDB </li>
<li>Be sure to install CouchDB to a path with no spaces, such as <code>C:\CouchDB</code>.</li>
<li>Create a user with the login <code>dev</code> and password <code>dev</code> during the installation steps. Validate Credentials.</li>
<li>Generate Random Cookie.</li>
<li>After launching the database, it becomes available at the following address <a href="http://127.0.0.1:5984/_utils/">http://127.0.0.1:5984/_utils/</a>.
Open it.</li>
<li>In the <code>Config</code> choose <code>CORS</code> and appoint <code>Enable CORS</code> with <code>All domains</code></li>
</ol>
<h2 id="documentation-database-database-in-pytest-hardpy">Database in pytest-hardpy<a class="headerlink" href="#documentation-database-database-in-pytest-hardpy" title="Permanent link">&para;</a></h2>
<h3 id="documentation-database-description-of-databases">Description of databases<a class="headerlink" href="#documentation-database-description-of-databases" title="Permanent link">&para;</a></h3>
<p>The pytest plugin has 2 databases: <strong>statestore</strong> and <strong>runstore</strong>.</p>
<ul>
<li>The <strong>statestore</strong> database contains the document <strong>current</strong>, which is a JSON object that stores the current state of the test run without artifacts.
The plugin updates the document as testing progresses using the <strong>StateStore</strong> class.</li>
<li>The <strong>runstore</strong> database contains the document <strong>current</strong>, which is a JSON object that stores the current state of the test run with artifacts - a report on the current test run.</li>
<li>The plugin updates the document as testing progresses using the <strong>RunStore</strong> class.</li>
</ul>
<p>A separate database is required to store the list of reports.
The <strong>report</strong> database is used as an example of storing reports on past testing runs.
It can be launched in the same instance as the <strong>statestore</strong>, <strong>runstore</strong> database, or in a different one.
The database is accessed through the <strong>CouchdbLoader</strong> class, which can be called at the end of each launch.
To read the current report, use the <code>get_current_report()</code> function.</p>
<p>Sample code for saving a report at the end of testing:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># conftest.py</span>
<span class="k">def</span> <span class="nf">save_report_to_couchdb</span><span class="p">():</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">get_current_report</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">report</span><span class="p">:</span>
        <span class="n">loader</span> <span class="o">=</span> <span class="n">CouchdbLoader</span><span class="p">(</span><span class="n">CouchdbConfig</span><span class="p">())</span>
        <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>


<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="n">autouse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fill_actions_after_test</span><span class="p">(</span><span class="n">post_run_functions</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
    <span class="n">post_run_functions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">save_report_to_couchdb</span><span class="p">)</span>
    <span class="k">yield</span>
</code></pre></div>
<p><strong>HardPy</strong> users have the flexibility to choose their preferred database.
They can write custom classes to record reports at the end of testing.</p>
<h3 id="documentation-database-statestore-scheme">Statestore scheme<a class="headerlink" href="#documentation-database-statestore-scheme" title="Permanent link">&para;</a></h3>
<p>The <strong>current</strong> document of the <strong>statestore</strong> database contains the following fields:</p>
<ul>
<li><strong>_rev</strong>: current document revision;</li>
<li><strong>_id</strong>: unique document identifier;</li>
<li><strong>progress</strong>: test progress;</li>
<li><strong>stop_time</strong>: end time of testing in Unix seconds;</li>
<li><strong>timezone</strong>: timezone as a list of strings;</li>
<li><strong>start_time</strong>: testing start time in Unix seconds;</li>
<li><strong>status</strong>: test execution status;</li>
<li><strong>name</strong>: test suite name;</li>
<li><strong>dut</strong>: DUT information containing the serial number and additional information;</li>
<li><strong>test_stand</strong>: information about the test stand in the form of a dictionary.;</li>
<li><strong>modules</strong>: module information;</li>
<li><strong>drivers</strong>: information about drivers in the form of a dictionary.</li>
</ul>
<p>The <strong>dut</strong> block contains the following fields:</p>
<ul>
<li><strong>serial_number</strong>: DUT serial number;</li>
<li><strong>info</strong>: A dictionary containing additional information about the DUT, such as batch, board revision, etc.</li>
</ul>
<p>The <strong>modules</strong> block contains the following fields:</p>
<ul>
<li><strong>test_{module_name}</strong>: an object containing information about a specific module. Contains the following fields:<ul>
<li><strong>status</strong>: module test execution status;</li>
<li><strong>name</strong>: module name, by default the same as module_id;</li>
<li><strong>start_time</strong>: module testing start time in Unix seconds;</li>
<li><strong>stop_time</strong>: end time of module testing in Unix seconds;</li>
<li><strong>cases</strong>: an object containing information about each test case within the module. Contains the following fields:</li>
<li><strong>test_{test_name}</strong>: an object containing information about the test. Contains the following fields:<ul>
<li><strong>status</strong>: test execution status;</li>
<li><strong>name</strong>: test name, by default the same as case_id;</li>
<li><strong>start_time</strong>: test start time in Unix seconds;</li>
<li><strong>stop_time</strong>: test end time in Unix second;</li>
<li><strong>assertion_msg</strong>: error message if the test fails;</li>
<li><strong>msg</strong>: additional message</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Example of a <strong>current</strong> document:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;_rev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;44867-3888ae85c19c428cc46685845953b483&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;current&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;stop_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817266</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;timezone&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;CET&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;CET&quot;</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817263</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;failed&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hardpy-stand&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;dut&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;serial_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;92c5a4bb-ecb0-42c5-89ac-e0caca0919fd&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;batch&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test_batch&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;board_rev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rev_1&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;test_stand&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Test stand 1&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;drivers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;driver_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;driver info&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;driver_2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8000</span><span class="p">,</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;modules&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;test_1_a&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;failed&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Module 1&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695816884</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;stop_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817265</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;cases&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;test_dut_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;passed&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Obtaining information about DUT&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817263</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;stop_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817264</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;assertion_msg&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;msg&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;test_minute_parity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;failed&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Test 1&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817264</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;stop_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817264</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;assertion_msg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The test failed because minute 21 is odd! Try again!&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;msg&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;Current minute 21&quot;</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div>
<h3 id="documentation-database-runstore-scheme">Runstore scheme<a class="headerlink" href="#documentation-database-runstore-scheme" title="Permanent link">&para;</a></h3>
<p>The <strong>runstore</strong> database contains all the fields about the <strong>statestore</strong> database
plus artifact fields for the test run, module, and case.
The <strong>current</strong> document of <strong>runstore</strong> database contains the following fields:</p>
<ul>
<li><strong>_rev</strong>: current document revision;</li>
<li><strong>_id</strong>: unique document identifier;</li>
<li><strong>progress</strong>: test progress;</li>
<li><strong>stop_time</strong>: end time of testing in Unix seconds;</li>
<li><strong>timezone</strong>: timezone as a list of strings;</li>
<li><strong>start_time</strong>: testing start time in Unix seconds;</li>
<li><strong>status</strong>: test execution status;</li>
<li><strong>name</strong>: test suite name;</li>
<li><strong>dut</strong>: DUT information containing the serial number and additional information;</li>
<li><strong>test_stand</strong>: information about the test stand in the form of a dictionary;</li>
<li><strong>drivers</strong>: information about drivers in the form of a dictionary;</li>
<li><strong>artifact</strong>: an object containing information about artifacts created during the test run;</li>
<li><strong>modules</strong>: module information.</li>
</ul>
<p>The <strong>dut</strong> block contains the following fields:</p>
<ul>
<li><strong>serial_number</strong>: DUT serial number;</li>
<li><strong>info</strong>: A dictionary containing additional information about the DUT, such as batch, board revision, etc.</li>
</ul>
<p>The <strong>modules</strong> block contains the following fields:</p>
<ul>
<li><strong>test_{module_name}</strong>: an object containing information about a specific module. Contains the following fields:<ul>
<li><strong>status</strong>: module test execution status;</li>
<li><strong>name</strong>: module name, by default the same as module_id;</li>
<li><strong>start_time</strong>: module testing start time in Unix seconds;</li>
<li><strong>stop_time</strong>: end time of module testing in Unix seconds;</li>
<li><strong>artifact</strong>: an object containing information about artifacts created during the test module process;</li>
<li><strong>cases</strong>: an object containing information about each test within the module. Contains the following fields:</li>
<li><strong>test_{test_name}</strong>: an object containing information about the test. Contains the following fields:<ul>
<li><strong>status</strong>: test execution status;</li>
<li><strong>name</strong>: test name, by default the same as case_id;</li>
<li><strong>start_time</strong>: test start time in Unix seconds;</li>
<li><strong>stop_time</strong>: test end time in Unix second;</li>
<li><strong>assertion_msg</strong>: error message if the test fails;</li>
<li><strong>msg</strong>: additional message;</li>
<li><strong>artifact</strong>: an object containing information about artifacts created during the test case process.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Example of a <strong>current</strong> document:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;_rev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;44867-3888ae85c19c428cc46685845953b483&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;current&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;stop_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817266</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;timezone&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;CET&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;CET&quot;</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817263</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;failed&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hardpy-stand&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;dut&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;serial_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;92c5a4bb-ecb0-42c5-89ac-e0caca0919fd&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;batch&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test_batch&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;board_rev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rev_1&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;test_stand&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Test stand 1&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;drivers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;driver_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;driver info&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;driver_2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8000</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;artifact&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;data_str&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;456DATA&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;data_int&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;data_dict&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;test_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;456DATA&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;modules&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;test_1_a&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;failed&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Module 1&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695816884</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;stop_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817265</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;artifact&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">          </span><span class="nt">&quot;cases&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;test_dut_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;passed&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Obtaining information about DUT&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817263</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;stop_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817264</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;assertion_msg&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;msg&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;artifact&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;data_str&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;456DATA&quot;</span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;test_minute_parity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;failed&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Test 1&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817264</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;stop_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1695817264</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;assertion_msg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The test failed because minute 21 is odd! Try again!&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;msg&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;Current minute 21&quot;</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">              </span><span class="nt">&quot;artifact&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;data_str&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;123DATA&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;data_int&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;data_dict&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;test_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;456DATA&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">              </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</code></pre></div></section><section class="print-page" id="documentation-pytest_hardpy"><h1 id="documentation-pytest_hardpy-pytest-hardpy">pytest-hardpy<a class="headerlink" href="#documentation-pytest_hardpy-pytest-hardpy" title="Permanent link">&para;</a></h1>
<p><strong>pytest-hardpy</strong> is a pytest plugin that helps you save test data in a
database for test reporting and viewing test data in the web interface.</p>
<h2 id="documentation-pytest_hardpy-plugin-registration">Plugin registration<a class="headerlink" href="#documentation-pytest_hardpy-plugin-registration" title="Permanent link">&para;</a></h2>
<p>To use the <strong>pytest-hardpy</strong> you need to enable it.
You can do this via the <code>pytest.ini</code> file.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">addopts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">--hardpy-pt</span>
</code></pre></div>
<p>Another way to enable a plugin without <code>pytest.ini</code> file is to run tests with the option <code>--hardpy-pt</code>.</p>
<div class="highlight"><pre><span></span><code>pytest<span class="w"> </span>--hardpy-pt<span class="w"> </span>tests
</code></pre></div>
<p>If tests are run via <a href="#documentation-hardpy_panel">hardpy-panel</a>, then the pytest-hardpy plugin will be enabled for tests by default.</p>
<h2 id="documentation-pytest_hardpy-functions">Functions<a class="headerlink" href="#documentation-pytest_hardpy-functions" title="Permanent link">&para;</a></h2>
<h4 id="documentation-pytest_hardpy-set_dut_info">set_dut_info<a class="headerlink" href="#documentation-pytest_hardpy-set_dut_info" title="Permanent link">&para;</a></h4>
<p>This function records a dictionary containing information about the test stand.
When called again, the information will be added to DB.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>info</code> <em>(dict)</em>: DUT info</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_dut_info</span><span class="p">():</span>
    <span class="n">set_dut_info</span><span class="p">({</span><span class="s2">&quot;batch&quot;</span><span class="p">:</span> <span class="s2">&quot;test_batch&quot;</span><span class="p">,</span> <span class="s2">&quot;board_rev&quot;</span><span class="p">:</span> <span class="s2">&quot;rev_1&quot;</span><span class="p">})</span>
</code></pre></div>
<h4 id="documentation-pytest_hardpy-set_dut_serial_number">set_dut_serial_number<a class="headerlink" href="#documentation-pytest_hardpy-set_dut_serial_number" title="Permanent link">&para;</a></h4>
<p>Writes a string with a serial number.
When called again, the Exception DuplicateSerialNumberError will be caused.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>serial_number</code> <em>(str)</em>: DUT serial number</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_serial_number</span><span class="p">():</span>
    <span class="n">set_dut_serial_number</span><span class="p">(</span><span class="s2">&quot;1234&quot;</span><span class="p">)</span>
</code></pre></div>
<h4 id="documentation-pytest_hardpy-set_stand_info">set_stand_info<a class="headerlink" href="#documentation-pytest_hardpy-set_stand_info" title="Permanent link">&para;</a></h4>
<p>Writes a dictionary with information about the test stand.
When called again, the information will be added to DB.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>info</code> <em>(dict)</em>: test stand info</li>
</ul>
<p><strong>Raises</strong></p>
<ul>
<li><code>DuplicateSerialNumberError</code>: if serial number is already set</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_stand_info</span><span class="p">():</span>
    <span class="n">set_stand_info</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Test stand 1&quot;</span><span class="p">})</span>
</code></pre></div>
<h4 id="documentation-pytest_hardpy-set_case_artifact">set_case_artifact<a class="headerlink" href="#documentation-pytest_hardpy-set_case_artifact" title="Permanent link">&para;</a></h4>
<p>Writes a dictionary with a test case artifact.
When called again, the data will be added to DB.</p>
<p>Artifacts are saved only in the <strong>runstore</strong> database
because the state in <strong>statestore</strong> and case artifact must be separated.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>data</code> <em>(dict)</em>: data</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_case_artifact</span><span class="p">():</span>
    <span class="n">set_case_artifact</span><span class="p">({</span><span class="s2">&quot;data_str&quot;</span><span class="p">:</span> <span class="s2">&quot;123DATA&quot;</span><span class="p">})</span>
</code></pre></div>
<h4 id="documentation-pytest_hardpy-set_module_artifact">set_module_artifact<a class="headerlink" href="#documentation-pytest_hardpy-set_module_artifact" title="Permanent link">&para;</a></h4>
<p>Writes a dictionary with a module test artifact.
When called again, the data will be added to DB.</p>
<p>Artifacts are saved only in the <strong>runstore</strong> database
because the state in <strong>statestore</strong> and module artifact must be separated.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>data</code> <em>(dict)</em>: data</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_module_artifact</span><span class="p">():</span>
    <span class="n">set_module_artifact</span><span class="p">({</span><span class="s2">&quot;data_str&quot;</span><span class="p">:</span> <span class="s2">&quot;456DATA&quot;</span><span class="p">})</span>
</code></pre></div>
<h4 id="documentation-pytest_hardpy-set_run_artifact">set_run_artifact<a class="headerlink" href="#documentation-pytest_hardpy-set_run_artifact" title="Permanent link">&para;</a></h4>
<p>Writes a dictionary with a test run artifact.
When called again, the data will be added to DB.</p>
<p>Artifacts are saved only in the <strong>runstore</strong> database
because the state in <strong>statestore</strong> and run artifact must be separated.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>data</code> <em>(dict)</em>: data</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_run_artifact</span><span class="p">():</span>
    <span class="n">set_run_artifact</span><span class="p">({</span><span class="s2">&quot;data_str&quot;</span><span class="p">:</span> <span class="s2">&quot;789DATA&quot;</span><span class="p">})</span>
</code></pre></div>
<h4 id="documentation-pytest_hardpy-set_driver_info">set_driver_info<a class="headerlink" href="#documentation-pytest_hardpy-set_driver_info" title="Permanent link">&para;</a></h4>
<p>The function records a dictionary containing information about the driver.
The data is updated with new information each time the function is called.</p>
<p>Driver data is stored in both <strong>statestore</strong> and <strong>runstore</strong> databases.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>drivers</code> <em>(dict)</em>: A dictionary of drivers, where keys are driver names and values are driver-specific data.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_driver_info</span><span class="p">():</span>
    <span class="n">drivers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;driver_1&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Driver A&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;network&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">set_driver_info</span><span class="p">(</span><span class="n">drivers</span><span class="p">)</span>
</code></pre></div>
<h4 id="documentation-pytest_hardpy-set_message">set_message<a class="headerlink" href="#documentation-pytest_hardpy-set_message" title="Permanent link">&para;</a></h4>
<p>Writes a string with a message.
If a message is sent without a key, the key will be generated automatically and the messages will be appended.
If the message is sent with a known key, it will be updated.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>msg</code> <em>(str)</em>: Message content.</li>
<li><code>msg_key</code> <em>(Optional[str])</em>: Message ID. If not specified, a random ID will be generated.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_message</span><span class="p">():</span>
    <span class="n">set_message</span><span class="p">(</span><span class="s2">&quot;Test message&quot;</span><span class="p">)</span>
    <span class="n">set_message</span><span class="p">(</span><span class="s2">&quot;Update message 1&quot;</span><span class="p">,</span> <span class="s2">&quot;msg_upd&quot;</span><span class="p">)</span>
    <span class="n">set_message</span><span class="p">(</span><span class="s2">&quot;Update message 2&quot;</span><span class="p">,</span> <span class="s2">&quot;msg_upd&quot;</span><span class="p">)</span>
</code></pre></div>
<h4 id="documentation-pytest_hardpy-get_current_report">get_current_report<a class="headerlink" href="#documentation-pytest_hardpy-get_current_report" title="Permanent link">&para;</a></h4>
<p>Returns the current report from the database <strong>runstore</strong>.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><em>(ResultRunStore | None)</em>: report, or None if not found or invalid</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_current_report</span><span class="p">():</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">get_current_report</span><span class="p">()</span>
</code></pre></div>
<h2 id="documentation-pytest_hardpy-class">Class<a class="headerlink" href="#documentation-pytest_hardpy-class" title="Permanent link">&para;</a></h2>
<h4 id="documentation-pytest_hardpy-couchdbloader">CouchdbLoader<a class="headerlink" href="#documentation-pytest_hardpy-couchdbloader" title="Permanent link">&para;</a></h4>
<p>Used to write reports to the database <strong>CouchDB</strong>.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># conftest</span>
<span class="k">def</span> <span class="nf">finish_executing</span><span class="p">():</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">get_current_report</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">report</span><span class="p">:</span>
        <span class="n">loader</span> <span class="o">=</span> <span class="n">CouchdbLoader</span><span class="p">(</span><span class="n">CouchdbConfig</span><span class="p">())</span>
        <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>


<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="n">autouse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fill_actions_after_test</span><span class="p">(</span><span class="n">post_run_functions</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
    <span class="n">post_run_functions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">finish_executing</span><span class="p">)</span>
    <span class="k">yield</span>
</code></pre></div>
<h2 id="documentation-pytest_hardpy-fixture">Fixture<a class="headerlink" href="#documentation-pytest_hardpy-fixture" title="Permanent link">&para;</a></h2>
<h4 id="documentation-pytest_hardpy-post_run_functions">post_run_functions<a class="headerlink" href="#documentation-pytest_hardpy-post_run_functions" title="Permanent link">&para;</a></h4>
<p>To execute actions at the end of testing, you can use the fixture <strong>post_run_functions</strong>.
This fixture is a <code>list[Callable]</code> and you can write functions into it that must be executed at the end of testing.</p>
<p>Fill this list in conftest.py and functions from this list will be called after tests run (at the end of pytest_sessionfinish).</p>
<p><strong>Returns:</strong></p>
<ul>
<li><em>(list[Callable])</em>: list of post run methods</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># conftest.py file</span>
<span class="k">def</span> <span class="nf">finish_executing</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pytest finished&quot;</span><span class="p">)</span>


<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="n">autouse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fill_actions_after_test</span><span class="p">(</span><span class="n">post_run_functions</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
    <span class="n">post_run_functions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">finish_executing</span><span class="p">)</span>
    <span class="k">yield</span>
</code></pre></div>
<h2 id="documentation-pytest_hardpy-marker">Marker<a class="headerlink" href="#documentation-pytest_hardpy-marker" title="Permanent link">&para;</a></h2>
<h4 id="documentation-pytest_hardpy-case_name">case_name<a class="headerlink" href="#documentation-pytest_hardpy-case_name" title="Permanent link">&para;</a></h4>
<p>Sets a text name for the test case (default: function name)</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">case_name</span><span class="p">(</span><span class="s2">&quot;Simple case 1&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">assert</span> <span class="mi">42</span> <span class="o">==</span> <span class="mi">42</span>
</code></pre></div>
<h4 id="documentation-pytest_hardpy-module_name">module_name<a class="headerlink" href="#documentation-pytest_hardpy-module_name" title="Permanent link">&para;</a></h4>
<p>Sets a text name for the test module (file) (default: module name)</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">pytestmark</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">module_name</span><span class="p">(</span><span class="s2">&quot;Module 1&quot;</span><span class="p">)</span>
</code></pre></div>
<h4 id="documentation-pytest_hardpy-dependency">dependency<a class="headerlink" href="#documentation-pytest_hardpy-dependency" title="Permanent link">&para;</a></h4>
<p>Skips the test case/module if the main test fails/skipped/errored.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">#test_1.py</span>
<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">False</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">dependency</span><span class="p">(</span><span class="s2">&quot;test_1::test_one&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_two</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>
</code></pre></div>
<h2 id="documentation-pytest_hardpy-options">Options<a class="headerlink" href="#documentation-pytest_hardpy-options" title="Permanent link">&para;</a></h2>
<p><strong>pytest-hardpy</strong> has several options to run:</p>
<h4 id="documentation-pytest_hardpy-hardpy_pt">hardpy_pt<a class="headerlink" href="#documentation-pytest_hardpy-hardpy_pt" title="Permanent link">&para;</a></h4>
<p>Option to enable the <strong>pytest-hardpy</strong> plugin.</p>
<div class="highlight"><pre><span></span><code>--hardpy-pt
</code></pre></div>
<h4 id="documentation-pytest_hardpy-db_user">db_user<a class="headerlink" href="#documentation-pytest_hardpy-db_user" title="Permanent link">&para;</a></h4>
<p>The CouchDB instance user name for the <strong>statestore</strong> and <strong>runstore</strong> databases.
The default is <em>dev</em>.</p>
<div class="highlight"><pre><span></span><code>--hardpy-dbu<span class="w"> </span>DB_USER
</code></pre></div>
<h4 id="documentation-pytest_hardpy-db_pswd">db_pswd<a class="headerlink" href="#documentation-pytest_hardpy-db_pswd" title="Permanent link">&para;</a></h4>
<p>The CouchDB instance password for the <strong>statestore</strong> and <strong>runstore</strong> databases.
The default is <em>dev</em>.</p>
<div class="highlight"><pre><span></span><code>--hardpy-dbpw<span class="w"> </span>DB_PSWD
</code></pre></div>
<h4 id="documentation-pytest_hardpy-db_port">db_port<a class="headerlink" href="#documentation-pytest_hardpy-db_port" title="Permanent link">&para;</a></h4>
<p>The CouchDB instance port number for the <strong>statestore</strong> and <strong>runstore</strong> databases.
The default is <em>5984</em>.</p>
<div class="highlight"><pre><span></span><code>--hardpy-dbp<span class="w"> </span>DB_PORT
</code></pre></div>
<h4 id="documentation-pytest_hardpy-db_host">db_host<a class="headerlink" href="#documentation-pytest_hardpy-db_host" title="Permanent link">&para;</a></h4>
<p>The CouchDB instance hostname for the <strong>statestore</strong> and <strong>runstore</strong> databases.
The default is <em>localhost</em>.</p>
<div class="highlight"><pre><span></span><code>--hardpy-dbh<span class="w"> </span>DB_HOST
</code></pre></div></section><section class="print-page" id="documentation-hardpy_panel"><h1 id="documentation-hardpy_panel-hardpy-panel">HardPy panel<a class="headerlink" href="#documentation-hardpy_panel-hardpy-panel" title="Permanent link">&para;</a></h1>
<p>The <strong>hardpy panel</strong> or operator panel is a web interface that displays and controls the testing process in <strong>HardPy</strong>.</p>
<h2 id="documentation-hardpy_panel-capability">Capability<a class="headerlink" href="#documentation-hardpy_panel-capability" title="Permanent link">&para;</a></h2>
<p><strong>HardPy panel</strong> allows you to:</p>
<ul>
<li>Start and stop testing.</li>
<li>Browse:<ul>
<li>Test run name.</li>
<li>Test run status.</li>
<li>Test module name.</li>
<li>Duration of test modules execution.</li>
<li>Test module status.</li>
<li>Test case name.</li>
<li>Test case message.</li>
<li>Test case status.</li>
</ul>
</li>
<li>Browse current <a href="#documentation-database-statestore-scheme">statestore</a> state in debug mode.</li>
</ul>
<h2 id="documentation-hardpy_panel-usage">Usage<a class="headerlink" href="#documentation-hardpy_panel-usage" title="Permanent link">&para;</a></h2>
<p>You can launch <strong>hardpy panel</strong> by using the command <code>hardpy-panel [...]</code>, where <code>[...]</code> is a tests directory.
After this open page <a href="http://localhost:8000/">http://localhost:8000/</a> in the browser.</p>
<p>When the operator panel is running, you can run tests through the web interface or through
the pytest launcher (in a terminal or from another application).</p>
<h3 id="documentation-hardpy_panel-options">Options<a class="headerlink" href="#documentation-hardpy_panel-options" title="Permanent link">&para;</a></h3>
<p>The operator panel has some options.
To view all options run <code>hardpy-panel -h</code>.</p>
<h4 id="documentation-hardpy_panel-db_user">db_user<a class="headerlink" href="#documentation-hardpy_panel-db_user" title="Permanent link">&para;</a></h4>
<p><strong>Statestore</strong> and <strong>runstore</strong> databases</p>
<p>The CouchDB instance user name for the <strong>statestore</strong> and <strong>runstore</strong> databases.
The default is <em>dev</em>.</p>
<div class="highlight"><pre><span></span><code>-dbu<span class="w"> </span>DB_USER,<span class="w"> </span>--db_user<span class="w"> </span>DB_USER
</code></pre></div>
<h4 id="documentation-hardpy_panel-db_pswd">db_pswd<a class="headerlink" href="#documentation-hardpy_panel-db_pswd" title="Permanent link">&para;</a></h4>
<p>The CouchDB instance password for the <strong>statestore</strong> and <strong>runstore</strong> databases.
The default is <em>dev</em>.</p>
<div class="highlight"><pre><span></span><code>-dbpw<span class="w"> </span>DB_PSWD,<span class="w"> </span>--db_pswd<span class="w"> </span>DB_PSWD
</code></pre></div>
<h4 id="documentation-hardpy_panel-db_port">db_port<a class="headerlink" href="#documentation-hardpy_panel-db_port" title="Permanent link">&para;</a></h4>
<p>The CouchDB instance port number for the <strong>statestore</strong> and <strong>runstore</strong> databases.
The default is <em>5984</em>.</p>
<div class="highlight"><pre><span></span><code>-dbp<span class="w"> </span>DB_PORT,<span class="w"> </span>--db_port<span class="w"> </span>DB_PORT
</code></pre></div>
<h4 id="documentation-hardpy_panel-db_host">db_host<a class="headerlink" href="#documentation-hardpy_panel-db_host" title="Permanent link">&para;</a></h4>
<p>The CouchDB instance hostname for the <strong>statestore</strong> and <strong>runstore</strong> databases.
The default is <em>localhost</em>.</p>
<div class="highlight"><pre><span></span><code>-dbh<span class="w"> </span>DB_HOST,<span class="w"> </span>--db_host<span class="w"> </span>DB_HOST
</code></pre></div>
<h4 id="documentation-hardpy_panel-web_host">web_host<a class="headerlink" href="#documentation-hardpy_panel-web_host" title="Permanent link">&para;</a></h4>
<p>The web interface hostname.
The default is <em>localhost</em>.</p>
<div class="highlight"><pre><span></span><code>-wh<span class="w"> </span>WEB_HOST,<span class="w"> </span>--web_host<span class="w"> </span>WEB_HOST
</code></pre></div>
<h4 id="documentation-hardpy_panel-web_port">web_port<a class="headerlink" href="#documentation-hardpy_panel-web_port" title="Permanent link">&para;</a></h4>
<p>The web interface port number.
The default is <em>8000</em>.</p>
<div class="highlight"><pre><span></span><code>-wp<span class="w"> </span>WEB_PORT,<span class="w"> </span>--web_port<span class="w"> </span>WEB_PORT
</code></pre></div></section><h1 class='nav-section-title-end'>Ended: Documentation</h1>
                        <h1 class='nav-section-title' id='section-examples'>
                            Examples <a class='headerlink' href='#section-examples' title='Permanent link'>â†µ</a>
                        </h1>
                        <section class="print-page" id="examples-hello_hardpy"><h1 id="examples-hello_hardpy-hello-hardpy">Hello hardpy<a class="headerlink" href="#examples-hello_hardpy-hello-hardpy" title="Permanent link">&para;</a></h1>
<p>This is the simplest example of using <strong>HardPy</strong>.</p>
<h3 id="examples-hello_hardpy-how-to-start">how to start<a class="headerlink" href="#examples-hello_hardpy-how-to-start" title="Permanent link">&para;</a></h3>
<ol>
<li>Launch <a href="#documentation-database-couchdb-instance">CouchDH instance</a>.</li>
<li>Create a directory <code>&lt;dir_name&gt;</code> with the files described below.</li>
<li>Launch <code>hardpy-panel &lt;dir_name&gt;</code>.</li>
</ol>
<h3 id="examples-hello_hardpy-test_simplepy">test_simple.py<a class="headerlink" href="#examples-hello_hardpy-test_simplepy" title="Permanent link">&para;</a></h3>
<p>Contains the simplest example of a valid test.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>
</code></pre></div></section><section class="print-page" id="examples-couchdb_load"><h1 id="examples-couchdb_load-couchdb-load">Couchdb load<a class="headerlink" href="#examples-couchdb_load-couchdb-load" title="Permanent link">&para;</a></h1>
<p>This is an example of storing the test result in CouchDB.
Test reports are written to the <strong>report</strong> database at the end of the testing process via <strong>CouchdbLoader</strong>.</p>
<h3 id="examples-couchdb_load-how-to-start">how to start<a class="headerlink" href="#examples-couchdb_load-how-to-start" title="Permanent link">&para;</a></h3>
<ol>
<li>Launch <a href="#documentation-database-couchdb-instance">CouchDH instance</a>.</li>
<li>Create a directory <code>&lt;dir_name&gt;</code> with the files described below.</li>
<li>Launch <code>hardpy-panel &lt;dir_name&gt;</code>.</li>
</ol>
<h3 id="examples-couchdb_load-pytestini">pytest.ini<a class="headerlink" href="#examples-couchdb_load-pytestini" title="Permanent link">&para;</a></h3>
<p>It is a file of built-in configuration options that determine how live logging works and 
enable <strong>pytest-hardpy</strong> plugin for launching via pytest.</p>
<div class="highlight"><pre><span></span><code><span class="k">[pytest]</span>
<span class="na">log_cli</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">true</span>
<span class="na">log_cli_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">INFO</span>
<span class="na">log_cli_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">%(asctime)s [%(levelname)s] %(message)s</span>
<span class="na">log_cli_date_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">%H:%M:%S</span>
<span class="na">addopts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">--hardpy-pt</span>
</code></pre></div>
<h3 id="examples-couchdb_load-conftestpy">conftest.py<a class="headerlink" href="#examples-couchdb_load-conftestpy" title="Permanent link">&para;</a></h3>
<p>Contains settings and fixtures for all tests:</p>
<ul>
<li>The function of generating a report and recording it in the database <code>save_report_to_couchdb</code>;</li>
<li>The list of actions that will be performed after testing is filled in function <code>fill_actions_after_test</code>;</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">from</span> <span class="nn">hardpy</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CouchdbLoader</span><span class="p">,</span>
    <span class="n">CouchdbConfig</span><span class="p">,</span>
    <span class="n">get_current_report</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">def</span> <span class="nf">save_report_to_couchdb</span><span class="p">():</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">get_current_report</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">report</span><span class="p">:</span>
        <span class="n">loader</span> <span class="o">=</span> <span class="n">CouchdbLoader</span><span class="p">(</span><span class="n">CouchdbConfig</span><span class="p">())</span>
        <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="n">autouse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fill_actions_after_test</span><span class="p">(</span><span class="n">post_run_functions</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
    <span class="n">post_run_functions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">save_report_to_couchdb</span><span class="p">)</span>
    <span class="k">yield</span>
</code></pre></div>
<h3 id="examples-couchdb_load-test_example_1py">test_example_1.py<a class="headerlink" href="#examples-couchdb_load-test_example_1py" title="Permanent link">&para;</a></h3>
<p>Contains two simple examples of a valid test.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="k">def</span> <span class="nf">test_two</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>
</code></pre></div>
<h3 id="examples-couchdb_load-test_example_2py">test_example_2.py<a class="headerlink" href="#examples-couchdb_load-test_example_2py" title="Permanent link">&para;</a></h3>
<p>Contains two simple examples: a valid test and an invalid test.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">def</span> <span class="nf">test_three</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="k">def</span> <span class="nf">test_four</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">False</span>
</code></pre></div></section><section class="print-page" id="examples-minute_parity"><h1 id="examples-minute_parity-minute-parity">Minute parity<a class="headerlink" href="#examples-minute_parity-minute-parity" title="Permanent link">&para;</a></h1>
<p>This is an example of using <strong>pytest-hardpy</strong> functions, storing the result to CouchDB and writing a simple driver.</p>
<h3 id="examples-minute_parity-how-to-start">how to start<a class="headerlink" href="#examples-minute_parity-how-to-start" title="Permanent link">&para;</a></h3>
<ol>
<li>Launch <a href="#documentation-database-couchdb-instance">CouchDH instance</a>.</li>
<li>Create a directory <code>&lt;dir_name&gt;</code> with the files described below.</li>
<li>Launch <code>hardpy-panel &lt;dir_name&gt;</code>.</li>
</ol>
<h3 id="examples-minute_parity-pytestini">pytest.ini<a class="headerlink" href="#examples-minute_parity-pytestini" title="Permanent link">&para;</a></h3>
<p>It is a file of built-in configuration options that determine how live logging works and 
enable <strong>pytest-hardpy</strong> plugin for launching via pytest.</p>
<div class="highlight"><pre><span></span><code><span class="k">[pytest]</span>
<span class="na">log_cli</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">true</span>
<span class="na">log_cli_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">INFO</span>
<span class="na">log_cli_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">%(asctime)s [%(levelname)s] %(message)s</span>
<span class="na">log_cli_date_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">%H:%M:%S</span>
<span class="na">addopts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">--hardpy-pt</span>
</code></pre></div>
<h3 id="examples-minute_parity-conftestpy">conftest.py<a class="headerlink" href="#examples-minute_parity-conftestpy" title="Permanent link">&para;</a></h3>
<p>Contains settings and fixtures for all tests:</p>
<ul>
<li>The function of generating a report and recording it in the database <code>finish_executing</code>;</li>
<li>The example of devices used as a fixture in <code>driver_example</code>;</li>
<li>The list of actions that will be performed after testing is filled in function <code>fill_actions_after_test</code>;</li>
<li>The module log is created in fixture <code>module_log</code>;</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">from</span> <span class="nn">hardpy</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">CouchdbLoader</span><span class="p">,</span>
    <span class="n">CouchdbConfig</span><span class="p">,</span>
    <span class="n">get_current_report</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">driver_example</span> <span class="kn">import</span> <span class="n">DriverExample</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;module&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">module_log</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">log_name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="vm">__name__</span>
    <span class="k">yield</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">log_name</span><span class="p">)</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">driver_example</span><span class="p">():</span>
    <span class="n">example</span> <span class="o">=</span> <span class="n">DriverExample</span><span class="p">()</span>
    <span class="k">yield</span> <span class="n">example</span>
    <span class="n">example</span><span class="o">.</span><span class="n">random_method</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">finish_executing</span><span class="p">():</span>
    <span class="n">report</span> <span class="o">=</span> <span class="n">get_current_report</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">report</span><span class="p">:</span>
        <span class="n">loader</span> <span class="o">=</span> <span class="n">CouchdbLoader</span><span class="p">(</span><span class="n">CouchdbConfig</span><span class="p">())</span>
        <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span><span class="p">,</span> <span class="n">autouse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fill_actions_after_test</span><span class="p">(</span><span class="n">post_run_functions</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
    <span class="n">post_run_functions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">finish_executing</span><span class="p">)</span>
    <span class="k">yield</span>
</code></pre></div>
<h3 id="examples-minute_parity-driver_examplepy">driver_example.py<a class="headerlink" href="#examples-minute_parity-driver_examplepy" title="Permanent link">&para;</a></h3>
<p>An example of writing a simple device driver.
The driver returns the current minute in the OS.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">logging</span> <span class="kn">import</span> <span class="n">getLogger</span>

<span class="k">class</span> <span class="nc">DriverExample</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span> <span class="o">=</span> <span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">current_minute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">current_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">current_time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%M&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">random_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Random method&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="examples-minute_parity-test_1py">test_1.py<a class="headerlink" href="#examples-minute_parity-test_1py" title="Permanent link">&para;</a></h3>
<p>Contains tests related to preparation for the testing process:</p>
<ul>
<li>The name of the test module for the web interface is set to <code>pytest.mark.module_name</code>;</li>
<li>The name of the test cases for the web interface is set to <code>pytest.mark.case_name</code>;</li>
<li>The device under test (DUT) info is stored in the database in <code>test_dut_info</code>;</li>
<li>The test stand info is store in the database in <code>test_stand_info</code>;</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">uuid</span> <span class="kn">import</span> <span class="n">uuid4</span>

<span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">import</span> <span class="nn">hardpy</span>

<span class="n">pytestmark</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">module_name</span><span class="p">(</span><span class="s2">&quot;Testing preparation&quot;</span><span class="p">)</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">case_name</span><span class="p">(</span><span class="s2">&quot;DUT info&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_dut_info</span><span class="p">(</span><span class="n">module_log</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span><span class="p">):</span>
    <span class="n">serial_number</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid4</span><span class="p">())[:</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">module_log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DUT serial number </span><span class="si">{</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">hardpy</span><span class="o">.</span><span class="n">set_dut_serial_number</span><span class="p">(</span><span class="n">serial_number</span><span class="p">)</span>
    <span class="n">info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;batch&quot;</span><span class="p">:</span> <span class="s2">&quot;test_batch&quot;</span><span class="p">,</span> <span class="s2">&quot;board_rev&quot;</span><span class="p">:</span> <span class="s2">&quot;rev_1&quot;</span><span class="p">}</span>
    <span class="n">hardpy</span><span class="o">.</span><span class="n">set_dut_info</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
    <span class="k">assert</span> <span class="kc">True</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">case_name</span><span class="p">(</span><span class="s2">&quot;Test stand info&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_stand_info</span><span class="p">(</span><span class="n">module_log</span><span class="p">:</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span><span class="p">):</span>
    <span class="n">test_stand_name</span> <span class="o">=</span> <span class="s2">&quot;Stand 1&quot;</span>
    <span class="n">module_log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stand name: </span><span class="si">{</span><span class="n">test_stand_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Test stand 1&quot;</span><span class="p">}</span>
    <span class="n">hardpy</span><span class="o">.</span><span class="n">set_stand_info</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
    <span class="k">assert</span> <span class="kc">True</span>
</code></pre></div>
<h3 id="examples-minute_parity-test_2py">test_2.py<a class="headerlink" href="#examples-minute_parity-test_2py" title="Permanent link">&para;</a></h3>
<p>Contains basic tests:</p>
<ul>
<li>The name of the test module for the web interface is set to <code>pytest.mark.module_name</code>;</li>
<li>The name of the test cases for the web interface is set to <code>pytest.mark.case_name</code>;</li>
<li>An example of using a driver to get the current minute in <code>test_minute_parity</code>;</li>
<li>An example of saving a test case artifact to the database using <code>set_case_artifact</code>;</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">import</span> <span class="nn">hardpy</span>

<span class="kn">from</span> <span class="nn">driver_example</span> <span class="kn">import</span> <span class="n">DriverExample</span>

<span class="n">pytestmark</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">module_name</span><span class="p">(</span><span class="s2">&quot;Main tests&quot;</span><span class="p">)</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">case_name</span><span class="p">(</span><span class="s2">&quot;Minute check&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_minute_parity</span><span class="p">(</span><span class="n">driver_example</span><span class="p">:</span> <span class="n">DriverExample</span><span class="p">):</span>
    <span class="n">minute</span> <span class="o">=</span> <span class="n">driver_example</span><span class="o">.</span><span class="n">current_minute</span>
    <span class="n">hardpy</span><span class="o">.</span><span class="n">set_message</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Current minute </span><span class="si">{</span><span class="n">minute</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">minute</span> <span class="o">%</span> <span class="mi">2</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;minute&quot;</span><span class="p">:</span> <span class="n">minute</span><span class="p">}</span>
    <span class="n">hardpy</span><span class="o">.</span><span class="n">set_case_artifact</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">assert</span> <span class="p">(</span><span class="n">result</span> <span class="o">==</span> <span class="mi">0</span><span class="p">),</span> <span class="sa">f</span><span class="s2">&quot;The test failed because </span><span class="si">{</span><span class="n">minute</span><span class="si">}</span><span class="s2"> is odd! Try again!&quot;</span>
</code></pre></div>
<h3 id="examples-minute_parity-test_3py">test_3.py<a class="headerlink" href="#examples-minute_parity-test_3py" title="Permanent link">&para;</a></h3>
<p>Contains the final tests of the testing process:</p>
<ul>
<li>The name of the test module for the web interface is set to <code>pytest.mark.module_name</code>;</li>
<li>The name of the test cases for the web interface is set to <code>pytest.mark.case_name</code>;</li>
<li>An example of setting and updating a message for a web interface using <code>set_message</code>;</li>
<li><code>test_3</code> depends on <code>test_minute_parity</code> from <code>test_2</code>. 
Dependency is set to <code>pytest.mark.dependency</code>. 
If <code>test_2::test_minute_parity</code> fails, <code>test_3</code> will be skipped</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>

<span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">import</span> <span class="nn">hardpy</span>

<span class="n">pytestmark</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">module_name</span><span class="p">(</span><span class="s2">&quot;End of testing&quot;</span><span class="p">),</span>
    <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">dependency</span><span class="p">(</span><span class="s2">&quot;test_2::test_minute_parity&quot;</span><span class="p">),</span>
<span class="p">]</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">case_name</span><span class="p">(</span><span class="s2">&quot;Final case&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">hardpy</span><span class="o">.</span><span class="n">set_message</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Time left until testing ends </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> s&quot;</span><span class="p">,</span> <span class="s2">&quot;updated_status&quot;</span><span class="p">)</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">hardpy</span><span class="o">.</span><span class="n">set_message</span><span class="p">(</span><span class="s2">&quot;Testing ended&quot;</span><span class="p">,</span> <span class="s2">&quot;updated_status&quot;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="kc">True</span>
</code></pre></div></section><section class="print-page" id="examples-multiple_stands"><h1 id="examples-multiple_stands-multiple-stands">Multiple stands<a class="headerlink" href="#examples-multiple_stands-multiple-stands" title="Permanent link">&para;</a></h1>
<p>This is an example of running multiple stands on one PC.</p>
<p>The example implements the launch of two stands and three CouchDB Instances. </p>
<p>Each stand will record reports on the conducted testing in the CouchDB Instance assigned to it in the <strong>runstore</strong> and <strong>statestore</strong> databases.
The third CouchDB Instance is needed to store reports in the <strong>report</strong> database on each conducted test of each stand.</p>
<p>You can learn more about storing reports here <a href="#documentation-database-couchdb-instance">Couchdb instance</a>.</p>
<h3 id="examples-multiple_stands-projects">projects<a class="headerlink" href="#examples-multiple_stands-projects" title="Permanent link">&para;</a></h3>
<ul>
<li>Create 2 separate projects. Add a simple test to the <code>tests</code> folder of each project.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">addopts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">--hardpy-pt</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><span class="c1"># test_1.py</span>
<span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>
</code></pre></div>
* Create another project for the CouchDB instance to store the report history.</p>
<h3 id="examples-multiple_stands-databases">databases<a class="headerlink" href="#examples-multiple_stands-databases" title="Permanent link">&para;</a></h3>
<p>Create a separate CouchDB Instance for each project, and use a different port for each.</p>
<p>To create a CouchDB Instance use <a href="#documentation-database-couchdb-instance">CouchDH instance</a> instruction.</p>
<ul>
<li>Create a <code>couchdb.ini</code> file in each project.</li>
<li>Launch the next script from the folder with the <code>couchdb.ini</code> file:</li>
</ul>
<p><div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span><span class="m">6</span>--name<span class="w"> </span>tests_hardpy<span class="w"> </span>-p<span class="w"> </span><span class="m">5984</span>:5984<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_USER</span><span class="o">=</span>dev<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_PASSWORD</span><span class="o">=</span>dev<span class="w"> </span>-v<span class="w"> </span>./couchdb.ini:/opt/couchdb/etc/local.ini<span class="w">  </span>couchdb:3.3
</code></pre></div>
Where:</p>
<ul>
<li><code>--name tests_hardpy</code> - container name</li>
<li><code>-p 5984:5984</code> - database port (use a different port for each)</li>
<li><code>-e COUCHDB_USER=dev</code> - user name</li>
<li><code>-e COUCHDB_PASSWORD=dev</code> - password</li>
</ul>
<p>For example, run a second database on port 5985:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>tests_hardpy_2<span class="w"> </span>-p<span class="w"> </span><span class="m">5985</span>:5984<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_USER</span><span class="o">=</span>dev<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_PASSWORD</span><span class="o">=</span>dev<span class="w"> </span>-v<span class="w"> </span>./couchdb.ini:/opt/couchdb/etc/local.ini<span class="w">  </span>couchdb:3.3
</code></pre></div>
<p>For example, run a third database on port 5986:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>tests_hardpy_3<span class="w"> </span>-p<span class="w"> </span><span class="m">5986</span>:5984<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_USER</span><span class="o">=</span>dev<span class="w"> </span>-e<span class="w"> </span><span class="nv">COUCHDB_PASSWORD</span><span class="o">=</span>dev<span class="w"> </span>-v<span class="w"> </span>./couchdb.ini:/opt/couchdb/etc/local.ini<span class="w">  </span>couchdb:3.3
</code></pre></div>
<h4 id="examples-multiple_stands-conftestpy">conftest.py<a class="headerlink" href="#examples-multiple_stands-conftestpy" title="Permanent link">&para;</a></h4>
<p>Create in the folder of each stand <code>conftest.py</code> file.
Contains settings and fixtures for all tests:</p>
<ul>
<li>The function of generating a report and recording it in the database <code>save_report_to_couchdb</code>;</li>
<li>The list of actions that will be performed after testing is filled in function <code>fill_actions_after_test</code>;</li>
</ul>
<p>To store reports from all booths in the third CouchDB Instance, specify the port numbers of this CouchDB Instance in the file <code>conftest.py</code> in the folder of each stand.</p>
<div class="highlight"><pre><span></span><code>import<span class="w"> </span>pytest

from<span class="w"> </span>hardpy<span class="w"> </span>import<span class="w"> </span><span class="o">(</span>
<span class="w">    </span>CouchdbLoader,
<span class="w">    </span>CouchdbConfig,
<span class="w">    </span>get_current_report,
<span class="o">)</span>

def<span class="w"> </span>save_report_to_couchdb<span class="o">()</span>:
<span class="w">    </span><span class="nv">report</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>get_current_report<span class="o">()</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span>report:
<span class="w">        </span><span class="nv">loader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>CouchdbLoader<span class="o">(</span>CouchdbConfig<span class="o">(</span><span class="nv">port</span><span class="o">=</span><span class="m">5986</span><span class="o">))</span>
<span class="w">        </span>loader.load<span class="o">(</span>report<span class="o">)</span>

@pytest.fixture<span class="o">(</span><span class="nv">scope</span><span class="o">=</span><span class="s2">&quot;session&quot;</span>,<span class="w"> </span><span class="nv">autouse</span><span class="o">=</span>True<span class="o">)</span>
def<span class="w"> </span>fill_actions_after_test<span class="o">(</span>post_run_functions:<span class="w"> </span>list<span class="o">)</span>:
<span class="w">    </span>post_run_functions.append<span class="o">(</span>save_report_to_couchdb<span class="o">)</span>
<span class="w">    </span>yield
</code></pre></div>
<ul>
<li><code>5986</code> - port of the database with reports</li>
</ul>
<h3 id="examples-multiple_stands-operator-panels">operator panels<a class="headerlink" href="#examples-multiple_stands-operator-panels" title="Permanent link">&para;</a></h3>
<p>In projects with tests, configure a connection to its own database for storing state and to its own operator panel.
To launch project with connection to database use script:</p>
<div class="highlight"><pre><span></span><code>hardpy-panel<span class="w"> </span>-dbp<span class="w"> </span><span class="m">5984</span><span class="w"> </span>-wp<span class="w"> </span><span class="m">8000</span><span class="w"> </span>&lt;dir_name&gt;/tests
</code></pre></div>
<ul>
<li><code>5984</code> - port of database</li>
<li><code>8000</code> - operator-panel port (frontend)</li>
<li><code>&lt;dir_name&gt;/tests</code> - the path to the folder with the tests</li>
</ul>
<p>For another project, use different ports:</p>
<div class="highlight"><pre><span></span><code>hardpy-panel<span class="w"> </span>-dbp<span class="w"> </span><span class="m">5985</span><span class="w"> </span>-wp<span class="w"> </span><span class="m">8001</span><span class="w"> </span>tests
</code></pre></div></section><section class="print-page" id="examples-skip_test"><h1 id="examples-skip_test-skip-test">Skip test<a class="headerlink" href="#examples-skip_test-skip-test" title="Permanent link">&para;</a></h1>
<p>This is an example of using the <strong>pytest-hardpy</strong> functions with a test dependency
on another test and skipping tests.</p>
<h3 id="examples-skip_test-how-to-start">how to start<a class="headerlink" href="#examples-skip_test-how-to-start" title="Permanent link">&para;</a></h3>
<ol>
<li>Launch <a href="#documentation-database-couchdb-instance">CouchDH instance</a>.</li>
<li>Create a directory <code>&lt;dir_name&gt;</code> with the files described below.</li>
<li>Specify the dependency in the file <code>pyproject.toml</code></li>
<li>Launch <code>hardpy-panel &lt;dir_name&gt;</code>.</li>
</ol>
<h3 id="examples-skip_test-pytestini">pytest.ini<a class="headerlink" href="#examples-skip_test-pytestini" title="Permanent link">&para;</a></h3>
<p>Enable the pytest-hardpy plugin.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># pytest.ini</span>
<span class="k">[pytest]</span>
<span class="na">addopts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">--hardpy-pt</span>
</code></pre></div>
<h3 id="examples-skip_test-description">description<a class="headerlink" href="#examples-skip_test-description" title="Permanent link">&para;</a></h3>
<p>If a test case/module that a test case/module depends on fails, errors or is skipped, the dependent test case/module will also be skipped.
A module is considered passed only if all module tests passed.
If these dependencies are incorrect, the tests will not run.</p>
<p>To use:</p>
<ul>
<li>Add the line <code>@pytest.mark.dependency()</code> before independent tests.</li>
<li>Add the line <code>@pytest.mark.dependency(test_1::test_one)</code> before the dependent test,
if a test that a test depends on is in the same file.</li>
<li>Add the line <code>@pytest.mark.dependency(test_1)</code>
before the dependent test, if the test depends on the module.</li>
</ul>
<p>Test/module name formats:</p>
<ul>
<li><code>test_1</code> - if depends on the test module</li>
<li><code>test_1::test_one</code> - if depends on the test case</li>
</ul>
<h4 id="examples-skip_test-example-of-case-by-case-dependence">Example of case by case dependence<a class="headerlink" href="#examples-skip_test-example-of-case-by-case-dependence" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">False</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">dependency</span><span class="p">(</span><span class="s2">&quot;test_1::test_one&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_two</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">False</span>
</code></pre></div>
<p><code>test_one</code> is marked as a dependency for <code>test_two</code> using <code>@pytest.mark.dependency("test_1::test_one")</code>.
If <code>test_one</code>, then <code>test_two</code> will be skipped.</p>
<h4 id="examples-skip_test-example-of-module-by-module-dependence">Example of module by module dependence<a class="headerlink" href="#examples-skip_test-example-of-module-by-module-dependence" title="Permanent link">&para;</a></h4>
<h5 id="examples-skip_test-test_1py">test_1.py<a class="headerlink" href="#examples-skip_test-test_1py" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">False</span>
</code></pre></div>
<h5 id="examples-skip_test-test_2py">test_2.py<a class="headerlink" href="#examples-skip_test-test_2py" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pytest</span>

<span class="n">pytestmark</span> <span class="o">=</span> <span class="n">pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">dependency</span><span class="p">(</span><span class="s2">&quot;test_1&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">test_one</span><span class="p">():</span>
    <span class="k">assert</span> <span class="kc">True</span>
</code></pre></div>
<p>Module <code>test_2</code> depends on module <code>test_1</code>.
If an error occurs in module <code>test_1</code>, all tests in module <code>test_2</code> will be skipped.</p></section><section class="print-page" id="examples-db_in_ram"><h1 id="examples-db_in_ram-storing-couchdb-database-in-ram">Storing CouchDB Database in RAM<a class="headerlink" href="#examples-db_in_ram-storing-couchdb-database-in-ram" title="Permanent link">&para;</a></h1>
<p>When using one of the methods below, the database data will be saved to a folder in temporary storage, and after the computer is turned off, the data will be deleted.</p>
<p>Here are instructions for saving the database in RAM for different methods of launching the database:</p>
<ul>
<li>in linux with binary packages</li>
<li>in linux with docker-compose.yaml</li>
<li>in windows with binary packages</li>
<li>in windows with docker-compose.yaml</li>
</ul>
<h2 id="examples-db_in_ram-linux">linux<a class="headerlink" href="#examples-db_in_ram-linux" title="Permanent link">&para;</a></h2>
<h3 id="examples-db_in_ram-linux-with-binary-packages">linux with binary packages<a class="headerlink" href="#examples-db_in_ram-linux-with-binary-packages" title="Permanent link">&para;</a></h3>
<p>Start the database according to the <a href="https://everypinio.github.io/hardpy/documentation/database/#running-couchdb-with-binary-packages-in-linux">instructions</a></p>
<ul>
<li>Create a CouchDB folder in the temporary file storage:</li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>mkdir<span class="w"> </span>/dev/shm/couchdb
</code></pre></div>
<ul>
<li>Add editing rights to this folder:</li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">777</span><span class="w"> </span>/dev/shm/couchdb
</code></pre></div>
<ul>
<li>Edit the database_dir parameter in the database configuration file <code>/opt/couchdb/etc/default.ini</code>:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">[couchdb]</span>
<span class="na">database_dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">./../../dev/shm/couchdb</span>
</code></pre></div>
<ul>
<li>Restart the couchdb service:</li>
</ul>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>service<span class="w"> </span>couchdb<span class="w"> </span>restart
</code></pre></div>
<h3 id="examples-db_in_ram-linux-with-docker-composeyaml">linux with docker-compose.yaml<a class="headerlink" href="#examples-db_in_ram-linux-with-docker-composeyaml" title="Permanent link">&para;</a></h3>
<p>Start the database according to the <a href="https://everypinio.github.io/hardpy/documentation/database/#running-couchdb-with-docker-compose">instructions</a> (steps 1-3)</p>
<p>Example of <code>docker-compose.yaml</code> file with saving files in RAM:</p>
<div class="highlight"><pre><span></span><code><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3.8&quot;</span>

<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">couchserver</span><span class="p">:</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">couchdb:3.3.2</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;5984:5984&quot;</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="nt">COUCHDB_USER</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev</span>
<span class="w">      </span><span class="nt">COUCHDB_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/dev/shm/couchdb:/opt/couchdb/data</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./docker/couchdb.ini:/opt/couchdb/etc/local.ini</span>
</code></pre></div>
<p>Run <strong>docker compose</strong> in the root directory to launch DB.</p>
<p><div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>up
</code></pre></div>
To stop the database, run the command:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>down
</code></pre></div>
<h2 id="examples-db_in_ram-windows">windows<a class="headerlink" href="#examples-db_in_ram-windows" title="Permanent link">&para;</a></h2>
<h3 id="examples-db_in_ram-virtual-hard-disk-creation">virtual hard disk creation<a class="headerlink" href="#examples-db_in_ram-virtual-hard-disk-creation" title="Permanent link">&para;</a></h3>
<p>You need to create a virtual hard disk on which the database will be saved.</p>
<ul>
<li>Open the command prompt using <code>Win+R</code>, type <code>diskmgmt.msc</code>, and press <code>Enter</code>.</li>
<li>Click Action &gt; Create Virtual Hard Disk.</li>
<li>Specify any Location, set Size (e.g., 30 MB), choose VHD type and Fixed size.</li>
<li>Right-click the created disk (left pane), select Initialize Disk, choose GUID Partition Table.</li>
<li>Right-click the created disk (right pane), select New Simple Volume, Assign drive letter (e.g., <code>K</code>), click Next twice, then Finish.</li>
<li>Create a folder named <code>couchdb</code> in the created drive (<code>K</code> in our case) using File Explorer.</li>
</ul>
<h3 id="examples-db_in_ram-database_dir-in-binary-couchdb-settings">database_dir in binary couchdb settings<a class="headerlink" href="#examples-db_in_ram-database_dir-in-binary-couchdb-settings" title="Permanent link">&para;</a></h3>
<p>Start the database according to the <a href="https://everypinio.github.io/hardpy/documentation/database/#running-couchdb-with-binary-packages-in-windows">instructions</a></p>
<ul>
<li>Open the file located at <code>C:/CouchDB/etc/default.ini</code> as administrator.</li>
<li>Set the value of the database_dir parameter to <code>K:/couchdb</code>.</li>
<li>Save and close the file.</li>
<li>Open the Services console using <code>Win+R</code>, type <code>services.msc</code>, and press <code>Enter</code>.</li>
<li>Locate the Apache CouchDB service and restart it.</li>
</ul>
<h3 id="examples-db_in_ram-database_dir-in-docker-compose-couchdb-settings">database_dir in docker compose couchdb settings<a class="headerlink" href="#examples-db_in_ram-database_dir-in-docker-compose-couchdb-settings" title="Permanent link">&para;</a></h3>
<p>Start the database according to the <a href="https://everypinio.github.io/hardpy/documentation/database/#running-couchdb-with-docker-compose">instructions</a> (steps 1-3)</p>
<p>In <code>docker-compose.yaml</code> file in <code>volumes</code> find the string:</p>
<div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">./docker/dbdata:/opt/couchdb/data</span>
</code></pre></div>
<p>Replace this string with next value:</p>
<div class="highlight"><pre><span></span><code><span class="l l-Scalar l-Scalar-Plain">K:/couchdb:/opt/couchdb/data</span>
</code></pre></div>
<p>Run <strong>docker compose</strong> in the root directory to launch DB.</p>
<p><div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>up
</code></pre></div>
To stop the database, run the command:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>down
</code></pre></div></section><h1 class='nav-section-title-end'>Ended: Examples</h1>
                        <h1 class='nav-section-title' id='section-about'>
                            About <a class='headerlink' href='#section-about' title='Permanent link'>â†µ</a>
                        </h1>
                        <section class="print-page" id="about-development"><h1 id="about-development-development">Development<a class="headerlink" href="#about-development-development" title="Permanent link">&para;</a></h1>
<h2 id="about-development-environment">Environment<a class="headerlink" href="#about-development-environment" title="Permanent link">&para;</a></h2>
<h3 id="about-development-requirements">Requirements<a class="headerlink" href="#about-development-requirements" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>python</strong> version must be equal to or greater than  <strong>3.10</strong>;</li>
<li><strong>yarn</strong> version must be equal to or greater than <strong>3.4.1</strong>;</li>
<li><strong>node.js</strong> version must be equal to or greater than <strong>16.10.0</strong>;</li>
<li><strong>CouchDB</strong> version must be equal to or greater than <strong>3.2.0</strong>;</li>
</ul>
<h3 id="about-development-conda">Conda<a class="headerlink" href="#about-development-conda" title="Permanent link">&para;</a></h3>
<p>Create a conda.yaml file if you prefer to work through <strong>Anaconda</strong> or <strong>Miniconda</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hardpy</span>
<span class="nt">channels</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">defaults</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
<span class="nt">dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python=3.10</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pip&gt;=22</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nodejs=20</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">yarn=4.0.1</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">pip</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-r requirements.txt</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-r requirements-doc.txt</span>
</code></pre></div>
<p>create environment:</p>
<div class="highlight"><pre><span></span><code>conda<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>-f<span class="w"> </span>conda.yaml
</code></pre></div>
<p>Activate:</p>
<div class="highlight"><pre><span></span><code>conda<span class="w"> </span>activate<span class="w"> </span>hardpy
</code></pre></div>
<h3 id="about-development-venv">venv<a class="headerlink" href="#about-development-venv" title="Permanent link">&para;</a></h3>
<p>If you prefer to work through <strong>venv</strong>:</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>venv
</code></pre></div>
<p>Activate:</p>
<div class="highlight"><pre><span></span><code><span class="nb">source</span><span class="w"> </span>venv/bin/activate
</code></pre></div>
<p>Install dependencies:</p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements-doc.txt
</code></pre></div>
<h2 id="about-development-frontend-building">Frontend building<a class="headerlink" href="#about-development-frontend-building" title="Permanent link">&para;</a></h2>
<p><strong>node.js</strong> and <strong>yarn</strong> are required to build the frontend.</p>
<p>Use the <code>compile_front.sh</code> script from <code>scripts</code> folder
or run the scripts manually:</p>
<div class="highlight"><pre><span></span><code>pip3<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
python3<span class="w"> </span>-m<span class="w"> </span>build
</code></pre></div>
<p>For frontend rebuilding use the <code>recompile_front.sh</code> from <code>scripts</code> folder
or run the scripts manually:</p>
<div class="highlight"><pre><span></span><code>pip3<span class="w"> </span>uninstall<span class="w"> </span><span class="nv">$PRJ</span><span class="w"> </span>-y

rm<span class="w"> </span>-rf<span class="w"> </span>hardpy/hardpy_panel/frontend/dist
rm<span class="w"> </span>-rf<span class="w"> </span>hardpy/hardpy_panel/frontend/node_modules
rm<span class="w"> </span>-rf<span class="w"> </span>*.egg-info
rm<span class="w"> </span>-rf<span class="w"> </span>dist
rm<span class="w"> </span>-rf<span class="w"> </span>__pycache__

pip3<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
python3<span class="w"> </span>-m<span class="w"> </span>build
</code></pre></div>
<h2 id="about-development-launch">Launch<a class="headerlink" href="#about-development-launch" title="Permanent link">&para;</a></h2>
<ol>
<li>Install dependencies or create environment.</li>
<li>Compile frontend if it's the first launch.</li>
<li>Launch <strong>CouchDB</strong> instance.</li>
<li>Launch <code>hardpy-panel</code> with path to tests folder.</li>
</ol>
<p>Addresses:</p>
<ul>
<li>HardPy panel: <a href="http://localhost:8000/">http://localhost:8000/</a></li>
<li>Fauxton CouchDB: <a href="http://127.0.0.1:5984/_utils/">http://127.0.0.1:5984/_utils/</a></li>
</ul>
<h2 id="about-development-documentation">Documentation<a class="headerlink" href="#about-development-documentation" title="Permanent link">&para;</a></h2>
<h3 id="about-development-server">Server<a class="headerlink" href="#about-development-server" title="Permanent link">&para;</a></h3>
<p>Documentation server command is:</p>
<div class="highlight"><pre><span></span><code>mkdocs<span class="w"> </span>serve
</code></pre></div>
<p>Documentation address: <a href="http://127.0.0.1:8000/">http://127.0.0.1:8000/</a></p>
<h3 id="about-development-build">Build<a class="headerlink" href="#about-development-build" title="Permanent link">&para;</a></h3>
<p>Documentation building command is:</p>
<div class="highlight"><pre><span></span><code>mkdocs<span class="w"> </span>build
</code></pre></div>
<p>The result is in the folder <code>public</code>.</p></section><h1 class='nav-section-title-end'>Ended: About</h1><section class="print-page" id="changelog"><h1 id="changelog-changelog">Changelog<a class="headerlink" href="#changelog-changelog" title="Permanent link">&para;</a></h1>
<p>Versions follow <a href="https://semver.org/">Semantic Versioning</a>: <code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</code>.</p>
<h2 id="changelog-hardpy-030">HardPy 0.3.0<a class="headerlink" href="#changelog-hardpy-030" title="Permanent link">&para;</a></h2>
<ul>
<li>Add implementation of test dependencies without using third party plugins.</li>
<li>Reduce the number of database calls.</li>
<li>Speed up test collection.</li>
</ul>
<h2 id="changelog-hardpy-020">HardPy 0.2.0<a class="headerlink" href="#changelog-hardpy-020" title="Permanent link">&para;</a></h2>
<ul>
<li>Add documentation site.</li>
<li>Remove the ability to access the HardpyPlugin. Users can now only register through the ini file.</li>
</ul>
<h2 id="changelog-hardpy-010">HardPy 0.1.0<a class="headerlink" href="#changelog-hardpy-010" title="Permanent link">&para;</a></h2>
<ul>
<li>Add pytest-hardpy and hardpy panel into one package.</li>
<li>Add frontend data synchronization via CouchDB data replication to PouchDB.</li>
<li>Add documentation.</li>
<li>CouchDB is main database.</li>
</ul></section></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "/hardpy/", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.path", "navigation.top", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
    
  </body>
</html>